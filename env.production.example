# Production Environment Configuration - AWS Optimized
# ====================================================
# Optimized for: 4 CPU cores, 15GB RAM, 40 concurrent users

# Application Environment
NODE_ENV=production
ENVIRONMENT=production

# Database Configuration
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_DB=cv_database
POSTGRES_USER=cv_user

# Qdrant Configuration - Optimized for 4 CPU cores
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_MAX_CONNECTIONS=20

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here

# Authentication
JWT_SECRET_KEY=your_very_secure_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440

# Rate Limiting - Optimized for 40 concurrent users
MAX_GLOBAL_CONCURRENT=80
CIRCUIT_BREAKER_THRESHOLD=30
CIRCUIT_BREAKER_RECOVERY_TIME=300

# Job Queue Configuration - Optimized for 4 CPU cores, 15GB RAM
MIN_QUEUE_WORKERS=4
MAX_QUEUE_WORKERS=16
MEMORY_THRESHOLD_MB=12288
CPU_THRESHOLD_PERCENT=80
QUEUE_SIZE_THRESHOLD=2000

# Frontend Configuration
NEXT_PUBLIC_API_URL=https://alphacv.alphadatarecruitment.ae
NEXT_PUBLIC_API_BASE=https://alphacv.alphadatarecruitment.ae/api
BACKEND_URL=http://backend:8000

# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=true
LOG_LEVEL=INFO
ENABLE_REQUEST_LOGGING=true

# Security
CORS_ORIGINS=https://alphacv.alphadatarecruitment.ae
SECURE_COOKIES=true
TRUSTED_PROXY=true

# Redis Configuration - Redis Cloud
REDIS_HOST=redis-15660.c322.us-east-1-2.ec2.redns.redis-cloud.com
REDIS_PORT=15660
REDIS_PASSWORD=Qcz5z02ZjhPmPy3bSimeJoqB3WoJhr7S
REDIS_USERNAME=default
REDIS_DB=0
REDIS_MAXMEMORY=30mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# Monitoring
ENABLE_METRICS=true
PROMETHEUS_ENDPOINT=http://prometheus:9090

# Security
ALLOWED_HOSTS=alphacv.alphadatarecruitment.ae,localhost
CORS_ORIGINS=https://alphacv.alphadatarecruitment.ae

# File Upload Limits
MAX_FILE_SIZE_MB=50
MAX_FILES_PER_REQUEST=10

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# Performance Tuning - Optimized for 4 CPU cores
UVICORN_WORKERS=4
UVICORN_WORKER_CLASS=uvicorn.workers.UvicornWorker

# AWS Instance Specific Optimizations
# ===================================
# CPU: 4 cores (Intel Xeon Platinum 8259CL @ 2.50GHz)
# RAM: 15GB total, 12GB available
# Target: 40 concurrent users

# Memory Management
PYTHON_MEMORY_LIMIT=12288
GARBAGE_COLLECTION_THRESHOLD=80

# Connection Pooling
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# Async Processing
MAX_CONCURRENT_REQUESTS=40
REQUEST_TIMEOUT=30
WORKER_TIMEOUT=60
